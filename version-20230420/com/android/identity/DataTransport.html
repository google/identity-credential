<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DataTransport (identity 20230420 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DataTransport (identity 20230420 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="Versionbox">
<li><a href="../../../../versions.html"><span id="version">Version 20230420 â–¼</span></a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.android.identity</a></div>
<h2 title="Class DataTransport" class="title">Class DataTransport</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.android.identity.DataTransport</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DataTransportHttp.html" title="class in com.android.identity">DataTransportHttp</a></code>, <code><a href="DataTransportNfc.html" title="class in com.android.identity">DataTransportNfc</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">DataTransport</span>
extends java.lang.Object</pre>
<div class="block">Abstraction for data transfer between prover and verifier devices.

 <p>The data transfer is packetized, that is, data is delivered at the same
 granularity as it is sent. For example, if <a href="#sendMessage(byte%5B%5D)"><code>sendMessage(byte[])</code></a> is used to send
 <code>N</code> bytes then this blob is what the remote peer will receive in the
 <code>DataTransport.Listener.onMessageReceived()</code> callback.

 <p>Instances constructed from subclasses deriving from this class must be inert when
 constructed, that is, they must not do anything. This constraint exists to easily facilitate
 factory-patterns.

 <p>If an unrecoverable error is detected, this is conveyed using the
 <code>DataTransport.Listener.onError(Throwable)</code> callback.

 <p>This class can be used to implement both provers and verifiers.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected android.content.Context</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mContext">mContext</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="DataTransportOptions.html" title="class in com.android.identity">DataTransportOptions</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mOptions">mOptions</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mRole">mRole</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ROLE_MDOC">ROLE_MDOC</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ROLE_MDOC_READER">ROLE_MDOC_READER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract <a href="ConnectionMethod.html" title="class in com.android.identity">ConnectionMethod</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConnectionMethod()">getConnectionMethod</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a <a href="ConnectionMethod.html" title="class in com.android.identity"><code>ConnectionMethod</code></a> instance that can be used to connect to this transport.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMessage()">getMessage</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the next message received, if any.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#inhibitCallbacks()">inhibitCallbacks</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportConnected()">reportConnected</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportConnecting()">reportConnecting</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportConnectionMethodReady()">reportConnectionMethodReady</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportDisconnected()">reportDisconnected</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportError(java.lang.Throwable)">reportError</a></span>&#8203;(java.lang.Throwable&nbsp;error)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportMessageProgress(long,long)">reportMessageProgress</a></span>&#8203;(long&nbsp;progress,
                     long&nbsp;max)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportMessageReceived(byte%5B%5D)">reportMessageReceived</a></span>&#8203;(byte[]&nbsp;data)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reportTransportSpecificSessionTermination()">reportTransportSpecificSessionTermination</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="ROLE_MDOC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROLE_MDOC</h4>
<pre>public static final&nbsp;int ROLE_MDOC</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.android.identity.DataTransport.ROLE_MDOC">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="ROLE_MDOC_READER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROLE_MDOC_READER</h4>
<pre>public static final&nbsp;int ROLE_MDOC_READER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.android.identity.DataTransport.ROLE_MDOC_READER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="mContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mContext</h4>
<pre>protected final&nbsp;android.content.Context mContext</pre>
</li>
</ul>
<a id="mRole">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mRole</h4>
<pre>protected final&nbsp;int mRole</pre>
</li>
</ul>
<a id="mOptions">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mOptions</h4>
<pre>protected final&nbsp;<a href="DataTransportOptions.html" title="class in com.android.identity">DataTransportOptions</a> mOptions</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getMessage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessage</h4>
<pre class="methodSignature">@Nullable
public&nbsp;byte[]&nbsp;getMessage()</pre>
<div class="block">Returns the next message received, if any.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the next message or <code>null</code> if none is available.</dd>
</dl>
</li>
</ul>
<a id="inhibitCallbacks()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inhibitCallbacks</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;inhibitCallbacks()</pre>
</li>
</ul>
<a id="reportConnectionMethodReady()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportConnectionMethodReady</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportConnectionMethodReady()</pre>
</li>
</ul>
<a id="reportConnecting()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportConnecting</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportConnecting()</pre>
</li>
</ul>
<a id="reportConnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportConnected</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportConnected()</pre>
</li>
</ul>
<a id="reportDisconnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportDisconnected</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportDisconnected()</pre>
</li>
</ul>
<a id="reportMessageReceived(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportMessageReceived</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportMessageReceived&#8203;(@NonNull
                                     byte[]&nbsp;data)</pre>
</li>
</ul>
<a id="reportMessageProgress(long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportMessageProgress</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportMessageProgress&#8203;(long&nbsp;progress,
                                     long&nbsp;max)</pre>
</li>
</ul>
<a id="reportTransportSpecificSessionTermination()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportTransportSpecificSessionTermination</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportTransportSpecificSessionTermination()</pre>
</li>
</ul>
<a id="reportError(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportError</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;reportError&#8203;(@NonNull
                           java.lang.Throwable&nbsp;error)</pre>
</li>
</ul>
<a id="getConnectionMethod()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getConnectionMethod</h4>
<pre class="methodSignature">@NonNull
public abstract&nbsp;<a href="ConnectionMethod.html" title="class in com.android.identity">ConnectionMethod</a>&nbsp;getConnectionMethod()</pre>
<div class="block">Returns a <a href="ConnectionMethod.html" title="class in com.android.identity"><code>ConnectionMethod</code></a> instance that can be used to connect to this transport.

 <p>This is used for listening transports where the address to listen on is not known
 until the connection has been set up for example if dynamic TCP port assignments are
 used or cloud relays.

 <p>For most data transports this will return the same <a href="ConnectionMethod.html" title="class in com.android.identity"><code>ConnectionMethod</code></a> instance
 that was passed at construction time. However for some transports where the address to
 listen on is not known until the connection have been set up (for example dynamic TCP
 listening port assignments or when a cloud relay is in use) it will differ.

 <p>This cannot be called until the <code>DataTransport.Listener.onConnectionMethodReady()</code> callback
 has been fired.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <a href="ConnectionMethod.html" title="class in com.android.identity"><code>ConnectionMethod</code></a>-derived instance.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
